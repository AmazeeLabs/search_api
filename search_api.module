<?php
/**
 * @file
 * Contains the Search API hook implementations.
 */

/*
 * Constant definitions.
 */

/**
 * Default number of items indexed per cron batch for each enabled index.
 */
define('SEARCH_API_DEFAULT_CRON_LIMIT', 50);

/*
 * Hook implementations.
 */

/**
 * Implements hook_menu().
 */
function search_api_menu() {
  return array(
    'admin/config/search/search_api' => array(
      'title' => 'Search API',
      'route_name' => 'search_api.overview',
    ),
    'admin/config/search/search_api/servers' => array(
      'title' => 'Servers',
      'route_name' => 'search_api.server_overview',
      'type' => MENU_DEFAULT_LOCAL_TASK,
    ),
    'admin/config/search/search_api/servers/add_server' => array(
      'title' => 'Add server',
      'route_name' => 'search_api.server_add',
      'type' => MENU_LOCAL_ACTION,
    ),
    'admin/config/search/search_api/servers/%' => array(
      'title callback' => 'entity_page_label',
      'title arguments' => array(5),
      'route_name' => 'search_api.server_edit',
    ),
    'admin/config/search/search_api/servers/%/edit' => array(
      'title' => 'Edit',
      'route_name' => 'search_api.server_edit_default',
      'type' => MENU_DEFAULT_LOCAL_TASK,
    ),
    'admin/config/search/search_api/servers/%/delete' => array(
      'title' => 'Delete',
      'route_name' => 'search_api.server_delete',
      'type' => MENU_LOCAL_TASK,
    ),
    'admin/config/search/search_api/servers/%/enable' => array(
      'title' => 'Enable',
      'route_name' => 'search_api.server_enable',
      'type' => MENU_CALLBACK,
    ),
    'admin/config/search/search_api/servers/%/disable' => array(
      'title' => 'Disable',
      'route_name' => 'search_api.server_disable',
      'type' => MENU_CALLBACK,
    ),
    'admin/config/search/search_api/indexes' => array(
      'title' => 'Indexes',
      'route_name' => 'search_api.index_overview',
      'type' => MENU_LOCAL_TASK,
    ),
    'admin/config/search/search_api/indexes/add_index' => array(
      'title' => 'Add index',
      'route_name' => 'search_api.index_add',
      'type' => MENU_LOCAL_ACTION,
    ),
    'admin/config/search/search_api/indexes/%' => array(
      'title callback' => 'entity_page_label',
      'title arguments' => array(5),
      'route_name' => 'search_api.index_edit',
    ),
    'admin/config/search/search_api/indexes/%/edit' => array(
      'title' => 'Edit',
      'route_name' => 'search_api.index_edit_default',
      'type' => MENU_DEFAULT_LOCAL_TASK,
    ),
    'admin/config/search/search_api/indexes/%/delete' => array(
      'title' => 'Delete',
      'route_name' => 'search_api.index_delete',
      'type' => MENU_LOCAL_TASK,
    ),
  );
}

/**
 * Implements hook_permission().
 */
function search_api_permission() {
  return array(
    'administer search_api' => array(
      'title' => t('Administer Search API'),
      'description' => t('Create and configure Search API servers and indexes.'),
    ),
  );
}
